<!DOCTYPE html>
<html>
    <head>
        <script src="https://app.usercentrics.eu/browser-sdk/2.12.1/bundle.js"></script>

        <script>
        //const UC = new UC_SDK.Usercentrics('GcEIoe8k');
        const UC = new UC_SDK.default('WeohTvPpy');

        UC.init().then((initialUIValues) => {
            // getCategories() returns all categories' and data processing services' information
            const categories = UC.getCategories();
            // getSettings() returns all Usercentrics settings you need for your custom solution
            const settings = UC.getSettings();
            UC.changeLanguage('de').then(() => {
                UC.acceptAllServices().then(function () {
                    console.log(UC.getCategoriesBaseInfo())
                })
            })
            if (initialUIValues.variant === UC_SDK.UI_VARIANT.DEFAULT) {
                switch (initialUIValues.initialLayer) {
                case UC_SDK.UI_LAYER.FIRST_LAYER:
                    // Show first layer (i.e. privacy banner)
                    return;
                case UC_SDK.UI_LAYER.PRIVACY_BUTTON:
                    // Show privacy button
                    return;
                case UC_SDK.UI_LAYER.NONE:
                default:
                    // Show nothing
                    return;
                }
            }
            });
    </script>
    </head>
    <body>
        TCF2
        <button onclick="javascript:console.log(`enforce ${UC_UI.getSettings().controllerId}`);UC_UI.clearStorage().then(() => {
            console.log('in extracted');
            console.log('extracted ' + UC_UI.getSettings().controllerId);
            const _usercentrics = new Usercentrics('GVl-ixMH', {
              language: 'de'
            });
            console.log('after new ' + _usercentrics.getControllerId());
            _usercentrics
              .init()
              .then(initialUiValue => {
                console.log('initialUiValue', initialUiValue);
              })
              .catch(ignored => {
                //_usercentrics_initialized = false;    
              });
          });">Clear Storage</button>
    </body>
</html>
